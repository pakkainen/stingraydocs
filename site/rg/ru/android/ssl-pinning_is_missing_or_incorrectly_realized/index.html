
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.5">
    
    
      
        <title>Отсутствует или некорректно реализован SSL-pinning - Документация</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="stingray" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ssl-pinning" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href="../../../.." title="Документация" class="md-header__button md-logo" aria-label="Документация" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Документация
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            Документация&nbsp;&nbsp;/&nbsp;&nbsp;Отсутствует или некорректно реализован SSL-pinning
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="stingray" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Очистить" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Вкладки" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../gi/" class="md-tabs__link">
        Общая информация
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../ug/" class="md-tabs__link">
        Руководство пользователя
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../aag/" class="md-tabs__link">
        Руководство по установке, настройке и интеграции
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Рекомендации по безопасной разработке
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../faq/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Документация" class="md-nav__button md-logo" aria-label="Документация" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    Документация
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" data-md-state="indeterminate" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../gi/">Общая информация</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Общая информация" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Общая информация
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../gi/o_produkte/" class="md-nav__link">
        О продукте
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../gi/trebovaniya_k_rabochemu_mestu_polzovatelya/" class="md-nav__link">
        Требования к рабочему месту пользователя
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../gi/osnovnye_ponyatiya/" class="md-nav__link">
        Основные понятия
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../ug/">Руководство пользователя</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Руководство пользователя" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Руководство пользователя
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/autentifikaciya_polzovatelya/" class="md-nav__link">
        Аутентификация пользователя
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/osnovnoe_menu/" class="md-nav__link">
        Основное меню
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/projects/" class="md-nav__link">
        Проекты
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/pravila/" class="md-nav__link">
        Правила
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/rezultaty_skanirovanij/" class="md-nav__link">
        Результаты сканирований
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/zapusk_skanirovaniya/" class="md-nav__link">
        Запуск сканирования
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/spisok_test_kejsov/" class="md-nav__link">
        Тест кейсы
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/trebovaniya/" class="md-nav__link">
        Требования
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/profile/" class="md-nav__link">
        Профили
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ug/dokumentaciya_i_rekomendacii/" class="md-nav__link">
        Документация и рекомендации
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../aag/">Руководство по установке, настройке и интеграции</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Руководство по установке, настройке и интеграции" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Руководство по установке, настройке и интеграции
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Trebovaniya_k_infrastrukture/" class="md-nav__link">
        Требования к инфраструктуре
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Ustanovka_Stingray/" class="md-nav__link">
        Установка Stingray
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Zapusk_Stingray/" class="md-nav__link">
        Запуск Stingray
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Ostanovka_Stingray/" class="md-nav__link">
        Остановка Stingray
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Obnovlenie_sistemy/" class="md-nav__link">
        Обновление системы
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Perezagruzka_servera_bez_obnovleniya_Stingray/" class="md-nav__link">
        Перезагрузка сервера без обновления Stingray
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" data-md-state="indeterminate" type="checkbox" id="__nav_3_8" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_8">
          Настройки
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Настройки" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Настройки
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Nastrojki/" class="md-nav__link">
        Настройки Stingray
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Polzovateli/" class="md-nav__link">
        Пользователи, группы, проекты
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Pravila_analiza_na_urovne_Organizacii/" class="md-nav__link">
        Правила анализа на уровне Организации
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Ustrojstva/" class="md-nav__link">
        Устройства
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Organizacii/" class="md-nav__link">
        Организации
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integracii/" class="md-nav__link">
        Интеграции
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_9" data-md-state="indeterminate" type="checkbox" id="__nav_3_9" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_9">
          Интеграции системы
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Интеграции системы" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_9">
          <span class="md-nav__icon md-icon"></span>
          Интеграции системы
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integracii_cherez_REST_API/" class="md-nav__link">
        Интеграции через REST API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Sistemy_CI_CD/" class="md-nav__link">
        Системы CI/CD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_LDAP/" class="md-nav__link">
        Интеграция с LDAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Sistema_distribucii_HockeyApp/" class="md-nav__link">
        Система дистрибуции HockeyApp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Sistema_distribucii_AppCenter/" class="md-nav__link">
        Система дистрибуции AppCenter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Sistema_distribucii_Nexus_Repository/" class="md-nav__link">
        Система дистрибуции Nexus Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_Firebase/" class="md-nav__link">
        Интеграция с Firebase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_Appstore/" class="md-nav__link">
        Интеграция с AppStore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_c_Burp_Suite/" class="md-nav__link">
        Интеграция c Burp Suite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_Netsparker/" class="md-nav__link">
        Интеграция с Netsparker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_AppScreener/" class="md-nav__link">
        Интеграция с AppScreener
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_Oversecured/" class="md-nav__link">
        Интеграция с Oversecured
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Integraciya_s_Google_Play/" class="md-nav__link">
        Интеграция с Google Play
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_10" data-md-state="indeterminate" type="checkbox" id="__nav_3_10" checked>
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_10">
          Настройка мониторинга
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Настройка мониторинга" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_10">
          <span class="md-nav__icon md-icon"></span>
          Настройка мониторинга
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Nastrojka_zhurnalov_audita/" class="md-nav__link">
        Настройка журналов аудита
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11" data-md-state="indeterminate" type="checkbox" id="__nav_3_11" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_11">
          Приложения
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Приложения" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_11">
          <span class="md-nav__icon md-icon"></span>
          Приложения
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Prilozhenie_1/" class="md-nav__link">
        Приложение 1. Список модулей для сбора информации
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Prilozhenie_2/" class="md-nav__link">
        Приложение 2. Список обнаруживаемых уязвимостей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../aag/Prilozhenie_3/" class="md-nav__link">
        Приложение 3. Описание стандартов безопасности
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Рекомендации по безопасной разработке</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Рекомендации по безопасной разработке" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Рекомендации по безопасной разработке
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Рекомендации для Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Рекомендации для Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Рекомендации для Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_1" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_1" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_1">
          Небезопасное хранение ключевой информации
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Небезопасное хранение ключевой информации" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          Небезопасное хранение ключевой информации
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_writable_keystore/" class="md-nav__link">
        Доступное на запись хранилище ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_keystore_with_write_permission_protected_by_a_weak_password/" class="md-nav__link">
        Доступное на запись хранилище ключей со слабым паролем
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../readable_file_keystore/" class="md-nav__link">
        Доступное на чтение файловое хранилище ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_readable_keystore%2C_protected_by_a_weak_password%2C_with_private_keys/" class="md-nav__link">
        Доступное на чтение хранилище ключей со слабым паролем, содержащее закрытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_readable_keystore%2C_protected_by_a_weak_password%2C_with_public_keys/" class="md-nav__link">
        Доступное на чтение хранилище ключей со слабым паролем, содержащее открытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_readable_keystore_containing_private_keys_protected_by_a_weak_password/" class="md-nav__link">
        Доступное на чтение хранилище ключей с приватными ключами, защищёнными слабым паролем
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_a_file_keystore/" class="md-nav__link">
        Использование файлового хранилища ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_keystore%2C_protected_by_weak_password%2C_containing_private_keys/" class="md-nav__link">
        Хранилище ключей со слабым паролем, содержащее закрытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_keystore%2C_protected_by_weak_password%2C_containing_public_keys/" class="md-nav__link">
        Хранилище ключей со слабым паролем, содержащее открытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_keystore_containing_private_keys_protected_by_a_weak_password/" class="md-nav__link">
        Хранилище ключей с приватными ключами, защищёнными слабым паролем
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_2" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_2" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_2">
          Передача sensitive-информации в Activity
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Передача sensitive-информации в Activity" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          Передача sensitive-информации в Activity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_activity/" class="md-nav__link">
        Небезопасная передача sensitive-информации в Activity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_external_activity/" class="md-nav__link">
        Небезопасная передача sensitive-информации во внешнюю Activity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_private_activity/" class="md-nav__link">
        Передача sensitive-информации во внутреннюю Activity
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_3" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_3" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_3">
          Передача sensitive-информации в Service
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Передача sensitive-информации в Service" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          Передача sensitive-информации в Service
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_service/" class="md-nav__link">
        Небезопасная передача sensitive-информации в Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_external_service/" class="md-nav__link">
        Небезопасная передача sensitive-информации во внешний Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_transmission_of_sensitive_information_in_internal_service/" class="md-nav__link">
        Небезопасная передача sensitive-информации во внутренний Service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_4" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_4" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_4">
          Передача sensitive-информации по сети
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Передача sensitive-информации по сети" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          Передача sensitive-информации по сети
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../inclusion_of_sensitive_information_into_the_get_request_parameters/" class="md-nav__link">
        Включение sensitive-информации в параметры GET-запроса
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../inclusion_of_sensitive_information_into_an_https_request/" class="md-nav__link">
        Включение чувствительной информации в HTTPS запрос
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transmission_of_sensitive_information_in_an_http_request/" class="md-nav__link">
        Передача sensitive информации в HTTP-запросе
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transmission_of_sensitive_information_in_an_http_response/" class="md-nav__link">
        Получение sensitive информации в HTTP-ответе
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../inclusion_of_sensitive_information_into_an_https_response/" class="md-nav__link">
        Получение чувствительной информации в HTTPS-ответе
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_5" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_5" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_5">
          Хранение sensitive-информации
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Хранение sensitive-информации" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          Хранение sensitive-информации
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_memory/" class="md-nav__link">
        Хранение sensitive-информации в памяти
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_public_file_outside_the_application_s_directory/" class="md-nav__link">
        Хранение sensitive-информации в общедоступном файле вне директории приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_public_file_inside_the_application_s_directory/" class="md-nav__link">
        Хранение sensitive-информации в общедоступном файле внутри директории приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_private_file_outside_the_application_s_directory/" class="md-nav__link">
        Хранение sensitive-информации в приватном файле вне директории приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_private_file_inside_the_application_s_directory/" class="md-nav__link">
        Хранение sensitive-информации в приватном файле внутри директории приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_public_protected_database/" class="md-nav__link">
        Хранение sensitive-информации в общедоступной защищённой базе данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_protected_database/" class="md-nav__link">
        Хранение sensitive-информации в защищённой базе данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_an_insecure_database/" class="md-nav__link">
        Хранение чувствительной информации в незащищённой базе данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_a_public_unprotected_database/" class="md-nav__link">
        Хранение sensitive-информации в общедоступной незащищённой базе данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_the_application_source_code/" class="md-nav__link">
        Хранение sensitive-информации в исходном коде приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storage_or_use_of_previously_found_sensitive_information/" class="md-nav__link">
        Хранение или использование ранее найденной sensitive-информации
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_sensitive_information_in_the_keyboard_cache/" class="md-nav__link">
        Хранение sensitive-информации в кэше клавиатуры
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_6" data-md-state="indeterminate" type="checkbox" id="__nav_4_2_6" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_6">
          Хранение ключей/сертификатов
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Хранение ключей/сертификатов" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          Хранение ключей/сертификатов
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_a_private_key_certificate_that_is_not_protected_by_a_password_in_the_directory_resources_of_the_application/" class="md-nav__link">
        Хранение приватного ключа/сертификата не защищенного паролем в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_a_public_key_certificate_in_the_directory_resources_of_the_application/" class="md-nav__link">
        Хранение публичного ключа/сертификата в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_a_private_key_certificate_protected_by_a_password_in_the_directory_resources_of_the_application/" class="md-nav__link">
        Хранение приватного ключа/сертификата, защищенного паролем, в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_a_key_certificate_in_the_directory_resources_of_the_application/" class="md-nav__link">
        Хранение сертификата/ключа в директории/ресурсах приложения
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../output_of_sensitive_information_into_the_system_log/" class="md-nav__link">
        Вывод sensitive-информации в системный лог
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_signature_algorithm/" class="md-nav__link">
        Небезопасный алгоритм подписи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insufficient_length_of_a_signature_key/" class="md-nav__link">
        Недостаточная длина ключа подписи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transmission_of_sensitive_information_in_broadcastreceiver/" class="md-nav__link">
        Передача sensitive-информации в BroadcastReceiver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transmission_of_sensitive_information_to_a_private_broadcastreceiver/" class="md-nav__link">
        Передача sensitive-информации в private BroadcastReceiver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transmission_of_sensitive_information_in_sql_query_parameters/" class="md-nav__link">
        Передача sensitive-информации в параметрах SQL-запроса
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../possibility_to_create_a_backup_copy_of_the_application/" class="md-nav__link">
        Возможность создания резервной копии приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../application_is_not_obfuscated/" class="md-nav__link">
        Приложение не обфусцировано
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../weak_database_encryption_password/" class="md-nav__link">
        Слабый пароль шифрования базы данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interception_of_the_database_encryption_password/" class="md-nav__link">
        Перехват пароля шифрования базы данных
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../an_application_allows_network_connections_via_http/" class="md-nav__link">
        Приложение разрешает сетевые соединения по протоколу HTTP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_networking_configuration/" class="md-nav__link">
        Небезопасная конфигурация сетевого взаимодействия
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../potential_execution_of_arbitrary_code_within_the_application/" class="md-nav__link">
        Потенциальное выполнение произвольного кода в контексте приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storing_cookie_values_in_the_standard_webview_database/" class="md-nav__link">
        Хранение значений Cookies в стандартной базе WebView
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_settings_in_androidmanifest.xml/" class="md-nav__link">
        Небезопасные настройки в AndroidManifest.xml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_settings_in_androidmanifest.xml._the_android_hasfragileuserdata_flag/" class="md-nav__link">
        Небезопасные настройки в AndroidManifest.xml. Флаг android:hasFragileUserData
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insecure_settings_in_androidmanifest.xml._the_android_requestlegacyexternalstorage_flag/" class="md-nav__link">
        Небезопасные настройки в AndroidManifest.xml. Флаг android:requestLegacyExternalStorage
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Отсутствует или некорректно реализован SSL-pinning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Отсутствует или некорректно реализован SSL-pinning
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Содержание раздела">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание раздела
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    Описание
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Рекомендации
  </a>
  
    <nav class="md-nav" aria-label="Рекомендации">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Что такое сертификат
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-pinning_1" class="md-nav__link">
    Какие виды SSL Pinning бывают
  </a>
  
    <nav class="md-nav" aria-label="Какие виды SSL Pinning бывают">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certificate-pinning" class="md-nav__link">
    Certificate Pinning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key-pinning" class="md-nav__link">
    Public key Pinning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Какие сертификаты возможно проверять
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Как проверять
  </a>
  
    <nav class="md-nav" aria-label="Как проверять">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#okhttp" class="md-nav__link">
    OkHttp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrofit" class="md-nav__link">
    Retrofit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picasso" class="md-nav__link">
    Picasso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpurlconnection" class="md-nav__link">
    HttpUrlConnection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volley" class="md-nav__link">
    Volley
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Ссылки
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ability_to_run_private_activity_indirectly/" class="md-nav__link">
        Возможность опосредованного запуска приватных Activity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../url_spoofing_possibility/" class="md-nav__link">
        Возможность подмены URL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ability_to_open_an_arbitrary_url_in_webview/" class="md-nav__link">
        Возможность открытия произвольного URL в WebView
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../access_to_an_arbitrary_file/" class="md-nav__link">
        Возможность получения доступа к произвольному файлу
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../access_to_an_arbitrary_contentprovider/" class="md-nav__link">
        Возможность получения доступа к произвольному ContentProvider
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ability_to_access_an_arbitrary_file_via_contentprovider/" class="md-nav__link">
        Возможность доступа к произвольному файлу через ContentProvider
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" data-md-state="indeterminate" type="checkbox" id="__nav_4_3" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Рекомендации для iOS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Рекомендации для iOS" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Рекомендации для iOS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_1" data-md-state="indeterminate" type="checkbox" id="__nav_4_3_1" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3_1">
          Хранение ключей/сертификатов
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Хранение ключей/сертификатов" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          Хранение ключей/сертификатов
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_a_key_certificate_in_the_directory_resources_of_the_application_ios/" class="md-nav__link">
        Хранение сертификата/ключа в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_a_private_key_certificate_protected_by_a_password_in_the_directory_resources_of_the_application_ios/" class="md-nav__link">
        Хранение приватного ключа/сертификата защищенного паролем в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_a_public_key_certificate_in_the_directory_resources_of_the_application_ios/" class="md-nav__link">
        Хранение публичного ключа/сертификата в директории/ресурсах приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_a_private_key_certificate_that_is_not_protected_by_a_password_in_the_directory_resources_of_the_application_ios/" class="md-nav__link">
        Хранение приватного ключа/сертификата не защищенного паролем в директории/ресурсах приложения
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" data-md-state="indeterminate" type="checkbox" id="__nav_4_3_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3_2">
          Небезопасное хранение ключевой информации
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Небезопасное хранение ключевой информации" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          Небезопасное хранение ключевой информации
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_writable_keystore_ios/" class="md-nav__link">
        Доступное на запись хранилище ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_keystore_with_write_permission_protected_by_a_weak_password_ios/" class="md-nav__link">
        Доступное на запись хранилище ключей со слабым паролем
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/readable_file_keystore_ios/" class="md-nav__link">
        Доступное на чтение файловое хранилище ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_readable_keystore%2C_protected_by_a_weak_password%2C_with_private_keys_ios/" class="md-nav__link">
        Доступное на чтение хранилище ключей со слабым паролем, содержащее закрытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_readable_keystore%2C_protected_by_a_weak_password%2C_with_public_keys_ios/" class="md-nav__link">
        Доступное на чтение хранилище ключей со слабым паролем, содержащее открытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_readable_keystore_containing_private_keys_protected_by_a_weak_password_ios/" class="md-nav__link">
        Доступное на чтение хранилище ключей с приватными ключами, защищёнными слабым паролем
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/using_a_file_keystore_ios/" class="md-nav__link">
        Использование файлового хранилища ключей
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_keystore%2C_protected_by_weak_password%2C_containing_private_keys_ios/" class="md-nav__link">
        Хранилище ключей со слабым паролем, содержащее закрытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_keystore%2C_protected_by_weak_password%2C_containing_public_keys_ios/" class="md-nav__link">
        Хранилище ключей со слабым паролем, содержащее открытые ключи
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/a_keystore_containing_private_keys_protected_by_a_weak_password_ios/" class="md-nav__link">
        Хранилище ключей с приватными ключами, защищёнными слабым паролем
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/enabled_caching_of_network_requests_ios/" class="md-nav__link">
        Включенное кэширование сетевых запросов
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/output_of_sensitive_information_into_the_system_log_ios/" class="md-nav__link">
        Вывод sensitive-информации в системный лог
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/insecure_app_transport_security_configuration_ios/" class="md-nav__link">
        Небезопасная конфигурация App Transport Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/application_does_not_use_overflow_protection_features_ios/" class="md-nav__link">
        Приложение не использует функции защиты от переполнений
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/presence_of_build_scripts_in_the_built_application_package_ios/" class="md-nav__link">
        Наличие скриптов сборки в собранном пакете приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/presence_of_podfile_in_the_built_application_package_ios/" class="md-nav__link">
        Наличие Podfile в собранном пакете приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_sensitive_information_in_the_keyboard_cache_ios/" class="md-nav__link">
        Хранение sensitive-информации в кэше клавиатуры
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_sensitive_information_in_nsuserdefaults_ios/" class="md-nav__link">
        Хранение sensitive-информации в NSUserDefaults
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_sensitive_information_in_a_private_file_ios/" class="md-nav__link">
        Хранение sensitive-информации в приватном файле
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_sensitive_information_in_the_application_source_code_ios/" class="md-nav__link">
        Хранение sensitive-информации в исходном коде приложения
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storing_sensitive_information_in_binary_cookies_ios/" class="md-nav__link">
        Хранение чувствительной информации в Binary Cookies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/storage_or_use_of_previously_found_sensitive_information_ios/" class="md-nav__link">
        Хранение или использование ранее найденной чувствительной информации
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание раздела">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание раздела
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    Описание
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Рекомендации
  </a>
  
    <nav class="md-nav" aria-label="Рекомендации">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Что такое сертификат
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-pinning_1" class="md-nav__link">
    Какие виды SSL Pinning бывают
  </a>
  
    <nav class="md-nav" aria-label="Какие виды SSL Pinning бывают">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certificate-pinning" class="md-nav__link">
    Certificate Pinning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key-pinning" class="md-nav__link">
    Public key Pinning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Какие сертификаты возможно проверять
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Как проверять
  </a>
  
    <nav class="md-nav" aria-label="Как проверять">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#okhttp" class="md-nav__link">
    OkHttp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrofit" class="md-nav__link">
    Retrofit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picasso" class="md-nav__link">
    Picasso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpurlconnection" class="md-nav__link">
    HttpUrlConnection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volley" class="md-nav__link">
    Volley
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Ссылки
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="ssl-pinning">Отсутствует или некорректно реализован SSL-pinning<a class="headerlink" href="#ssl-pinning" title="Permanent link">⚓︎</a></h1>
<table class='noborder'>
    <colgroup>
      <col/>
      <col/>
    </colgroup>
    <tbody>
      <tr>
        <td rowspan="2"><img src="../../../img/defekt_vysokij.png"/></td>
        <td>Критичность:<strong> ВЫСОКАЯ</strong></td>
      </tr>
      <tr>
        <td>Способ обнаружения:<strong> SAST, APK</strong></td>
      </tr>
    </tbody>
</table>

<h2 id="_1">Описание<a class="headerlink" href="#_1" title="Permanent link">⚓︎</a></h2>
<p>Недостаточное внимание к настройке правильного клиент-серверного взаимодействия может привести к перехвату трафика между приложением и сервером. Модель злоумышленника в таком случае может быть самой разной, к примеру, публичные WiFi-сети, скомпрометированные сетевые устройства, злоумышленник в одной сети с устройством и т. д.</p>
<p>Классической атакой, которая возможна в случае отсутствия или некорректной реализации защиты от перехвата трафика, является MiTM («Man in the Middle») или «Человек по середине».</p>
<p>Наглядно процесс этой атаки представлен на картинке ниже:</p>
<figure>
<p><img alt="" src="../../../img/image14.png" /></p>
<figcaption>Рис. 1. Схема атаки Man-In-The-Middle</figcaption>
</figure>
<p>На данном изображении происходит примерно следующее:</p>
<ol>
<li>
<p>Приложение обращается к своему серверу через точку доступа, подконтрольную злоумышленнику. </p>
</li>
<li>
<p>На этой точке доступа развернут Proxy-сервер, через который проходит весь трафик.</p>
</li>
<li>
<p>При подключении к данной точке доступа клиенту предлагают установить сертификат корневого центра сертификации, чтобы пользоваться интернетом (через функциональность Captive portal).</p>
</li>
<li>
<p>На каждый запрос, проходящий через Proxy, он генерирует собственный сертификат, подписанный своим корневым сертификатом (и этот же сертификат уже установлен на клиентском устройстве).</p>
</li>
</ol>
<p>В такой конфигурации весь трафик приложения будет доступен злоумышленнику, так как он выдает себя за конечного адресата мобильного устройства и при установке «защищенного» соединения отдает свой сертификат со своим ключом. И именно с Proxy-сервером устанавливается защищенное соединение по классической схеме, представленной ниже (сервер в данном случае — это Proxy злоумышленника):</p>
<figure>
<p><img alt="" src="../../../img/image15.png" /></p>
<figcaption>Рис. 2. Процесс SSL-Handshake</figcaption>
</figure>
<p>С другой стороны, Proxy-сервер устанавливает аналогичное соединение с backend мобильного приложения и передает ему данные, которые пришли от клиента. Но в этот момент он может полностью читать или модифицировать данные, которые ему пришли от мобильного приложения.</p>
<p>Такая атака возможна только в случае, если приложение доверяет сертификатам, хранящимся в пользовательском хранилище, и если не реализована защита в виде SSL-Pinning. Тем не менее, подобные атаки достаточно часто используются и распространены.</p>
<h2 id="_2">Рекомендации<a class="headerlink" href="#_2" title="Permanent link">⚓︎</a></h2>
<p>Основной рекомендацией в данном случае является использование SSL Pinning. Суть этого метода в том, что на этапе SSL-Handshake (Рис. 2) после второго шага, когда сервер присылает нам свой сертификат с открытым ключом, приложение проверяет, что определенные параметры этого сертификата совпадают с тем, что ожидает получить приложение (то есть некоторые данные, которые «зашиты» в приложении и которые мы ожидаем получить от своего сервера). Схематично это изображено на рисунке 3.</p>
<figure>
<p><img alt="" src="../../../img/image16.png" /></p>
<figcaption>Рис. 3. Процесс SSL-Pinning</figcaption>
</figure>
<p>Для того, чтобы более точно понимать, как именно его можно реализовать, необходимо понимать, что именно можно проверять, на каких этапах и каким образом это можно реализовать.</p>
<h3 id="_3">Что такое сертификат<a class="headerlink" href="#_3" title="Permanent link">⚓︎</a></h3>
<p>Сертификат — это электронный документ, который позволяет проверить аутентичность его предъявителя (пользователя, сервиса, системы). Обычно содержит публичный ключ его владельца, сводную информацию о сертификате (имя владельца, срок действия и т. д.) и информацию о том, кто именно издал этот сертификат.</p>
<figure>
<p><img alt="" src="../../../img/image17.png" /></p>
</figure>
<p>Все данные криптографически подписаны выпустившей сертификат организацией (обычно это крупные доверенные компании) и поэтому могут быть проверены в любое время.</p>
<h3 id="ssl-pinning_1">Какие виды SSL Pinning бывают<a class="headerlink" href="#ssl-pinning_1" title="Permanent link">⚓︎</a></h3>
<h4 id="certificate-pinning">Certificate Pinning<a class="headerlink" href="#certificate-pinning" title="Permanent link">⚓︎</a></h4>
<p>Первая реализация — это Certificate Pinning. В этом случае проверяется непосредственно сам сертификат, включая метаданные (кому выдан сертификат, срок окончания, данные владельца и т. д.). Такая реализация наиболее безопасна, так как даже небольшое изменение в сертификате вызовет несоответствие и приведет к невозможности установить соединение.</p>
<p>Но у сертификата есть срок действия, поэтому каждый раз, когда выпускается новый сертификат, должна выходить новая версия приложения.</p>
<h4 id="public-key-pinning">Public key Pinning<a class="headerlink" href="#public-key-pinning" title="Permanent link">⚓︎</a></h4>
<p>Это упрощенная реализация проверки сертификата. Во время этой проверки проверяется только открытый ключ вместо всего сертификата. Так как обновление сертификата возможно без изменения открытого ключа, такой способ позволит не выпускать обновление приложения каждый раз при смене сертификата.</p>
<p>Но стоит иметь ввиду, что в компании должна быть предусмотрена политика ротации таких ключей, так что рано или поздно ключ будет обновлен.</p>
<h3 id="_4">Какие сертификаты возможно проверять<a class="headerlink" href="#_4" title="Permanent link">⚓︎</a></h3>
<ol>
<li>Сертификат конечного сервера, с которым осуществляется соединение.<ol>
<li>Гарантирует с почти 100% уверенностью, что это ваш сертификат, даже если корневой центр сертификации был скомпрометирован.</li>
<li>Если сертификат становится недействительным по какой-либо причине (либо по истечении срока действия, либо по компрометации), то осуществить соединение с сервером не получится, пока не выйдет обновление приложения.</li>
<li>Позволяет использовать самоподписанные сертификаты — что может быть полезно при разработке.</li>
</ol>
</li>
<li>Сертификат промежуточного центра сертификации.<ol>
<li>Проверяя промежуточный сертификат, вы доверяете промежуточному центру сертификации.</li>
<li>Пока вы используете того же поставщика сертификатов, любые изменения сертификатов конечного сервера будут работать без обновления приложения.</li>
</ol>
</li>
<li>Сертификат центра сертификации (корневой сертификат, CA).<ol>
<li>Проверка корневого сертификата означает, что вы доверяете корневому центру сертификации, а также любым посредникам, которые используют данный центр сертификации.</li>
<li>Если корневой сертификат скомпрометирован, то соединение нельзя считать защищенным и необходимо срочно менять все сертификаты.</li>
</ol>
</li>
<li>Всю цепочку сертификатов.<ol>
<li>Это самая надежная проверка с точки зрения безопасности, так как проверяются все возможные изменения в любом из сертификатов.</li>
<li>В то же время — самая сложная в поддержке, так как при изменении любого из сертификатов, участвующих в цепочке, необходимо обновлять приложение.</li>
</ol>
</li>
</ol>
<h3 id="_5">Как проверять<a class="headerlink" href="#_5" title="Permanent link">⚓︎</a></h3>
<p>Для каждой из возможных библиотек реализация будет своя собственная, зависящая от конкретной библиотеки и ее версии. Но в Android существует встроенный механизм реализации Pinning на уровне системы, а именно конфигурация сетевого взаимодействия. Конфигурация сетевого взаимодействия — это XML-файл, в котором настраиваются параметры сетевой безопасности для приложения Android. Данная настройка задается специальным атрибутом в <strong><em>AndroidManifest.xml</em></strong> — <code>android:networkSecurityConfig</code>.</p>
<p>Пример подключения:</p>
<pre class="highlight"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest ... &gt;
    &lt;application android:networkSecurityConfig="@xml/network_security_config"
                    ... &gt;
        ...
    &lt;/application&gt;
&lt;/manifest&gt;
</code></pre>
<p>Network Security Config позволяет достаточно просто подключить механизм Certificate Pinning в приложении. Но стоит учитывать определенные нюансы. Рассмотрим конфигурацию, которая с первого взгляда выглядит, как правильно настроенная, и разберем, как ее можно немного улучшить:</p>
<pre class="highlight"><code>&lt;network-security-config&gt;
    &lt;domain-config&gt;
        &lt;domain includeSubdomains="true"&gt;example.com&lt;/domain&gt;
        &lt;pin-set&gt;
            &lt;pin digest="SHA-256"&gt;7HIpactkIAq2Y49orFOOQKurWxmmSFZhBCoQYcRhJ3Y=&lt;/pin&gt;
        &lt;/pin-set&gt;
    &lt;/domain-config&gt;
&lt;/network-security-config&gt;
</code></pre>
<p>Этот пример имеет два небольших недостатка:</p>
<ol>
<li>Для отпечатка сертификата (pin-set) не установлен срок действия. </li>
<li>Нет резервного сертификата.</li>
</ol>
<p>Если срок действия вашего сертификата подойдет к концу и в настройках не указан срок действия, приложение перестанет подключаться к серверу и будет выдавать ошибку. Но если установлен срок действия и он подойдет к концу, приложение перейдет на использование доверенных центров сертификации, установленных в системе. И вместо того, чтобы получить неработоспособное приложение, вы получите отсутствие SSL Pinning в течении некоторого времени, пока не обновите сертификат в приложении.</p>
<p>Чтобы этого избежать, если вы знаете сертификат, который будет изменен на вашем сервере после истечения срока текущего, можно сразу указать его в настройках «резервных сертификатов».</p>
<p>Вот пример <strong>наиболее</strong> корректного использования функционала Certificate Pinning:</p>
<pre class="highlight"><code>&lt;network-security-config&gt;
    &lt;domain-config&gt;
        &lt;domain includeSubdomains="true"&gt;example.com&lt;/domain&gt;
        &lt;pin-set expiration="2021-01-01"&gt;
            &lt;pin digest="SHA-256"&gt;7HIpactkIAq2Y49orFOOQKurWxmmSFZhBCoQYcRhJ3Y=&lt;/pin&gt;
            &lt;!-- backup pin --&gt;
            &lt;pin digest="SHA-256"&gt;fwza0LRMXouZHRC8Ei+4PyuldPDcf3UKgO/04cDM1oE=&lt;/pin&gt;
        &lt;/pin-set&gt;
    &lt;/domain-config&gt;
&lt;/network-security-config&gt;
</code></pre>
<p>Несмотря на всё удобство использования Network Security Config, некоторые проверки придется выполнять самостоятельно в коде приложения. Например, все равно нужно будет определить, выполняет ли ваше приложение проверку имени хоста, поскольку Network Security Config не защитит от проблем такого типа.</p>
<p><strong>Так же перед имплементацией необходимо убедиться, что сторонние библиотеки поддерживают Network Security Config. В противном случае эти средства защиты могут вызвать проблемы в вашем приложении. Кроме того, Network Security Config не поддерживается сетевыми соединениями более низкого уровня, такими как веб-сокеты.</strong></p>
<p>Далее рассмотрим несколько примеров наиболее популярных библиотек для реализации сетевого взаимодействия и то, как внутри каждой из них можно реализовать SSL Pinning.</p>
<h4 id="okhttp">OkHttp<a class="headerlink" href="#okhttp" title="Permanent link">⚓︎</a></h4>
<p>При реализации в OkHttp можно воспользоваться классом <a href="https://github.com/square/okhttp/wiki/HTTPS#certificate-pinning">CertificatePinner</a>.</p>
<pre class="highlight"><code>CertificatePinner certPinner = new CertificatePinner.Builder()
        .add("appmattus.com",
            "sha256/4hw5tz+scE+TW+mlai5YipDfFWn1dqvfLG+nU7tq1V8=")
        .build();
OkHttpClient okHttpClient = new OkHttpClient.Builder()
        .certificatePinner(certPinner)
        .build();
</code></pre>
<p><strong>В OkHttp возможно использовать данный функционал, начиная с версии 2.1. Но, к сожалению, ранние версии подвержены <a href="https://medium.com/square-corner-blog/vulnerability-in-okhttps-certificate-pinner-2a7326ad073b#.kkns7f3jk">уязвимости</a>, которая исправлена только в версии выше 2.7.5 и выше 3.2.0. Необходимо убедиться в том, что используемая версия библиотеки не подвержена данной уязвимости.
</strong></p>
<h4 id="retrofit">Retrofit<a class="headerlink" href="#retrofit" title="Permanent link">⚓︎</a></h4>
<p>Retrofit используется поверх OkHttp, поэтому его использование похоже на аналогичные операции с <code>OkHttpClient</code>, как показано в примере выше.</p>
<pre class="highlight"><code>Retrofit retrofit = new Retrofit.Builder()
        .baseUrl("https://appmattus.com")
        .addConverterFactory(GsonConverterFactory.create())
        .client(okHttpClient)
        .build();
</code></pre>
<h4 id="picasso">Picasso<a class="headerlink" href="#picasso" title="Permanent link">⚓︎</a></h4>
<p>Для Picasso, если используется OkHttp, по аналогии с примером выше, необходимо настроить OkHttpClient. В настоящее время Picasso 2 не поддерживает OkHttp 3, поэтому может потребоваться дополнительная библиотека <a href="https://github.com/JakeWharton/picasso2-okhttp3-downloader">Picasso 2 OkHttp3</a>.</p>
<pre class="highlight"><code>Picasso picasso = new Picasso.Builder(getApplicationContext())
        .downloader(new OkHttpDownloader(okHttpClient))
        .build();
Picasso.setSingletonInstance(picasso);
</code></pre>
<p>Реализация при помощи <code>UrlConnectionDownloader</code> немного сложнее, но возможно реализовать аналогичный метод, как в библиотеке Volley (о котором рассказано ниже), перегрузив метод <code>openConnection</code> загрузчика и переопределив <code>HostnameVerifier</code>.</p>
<h4 id="httpurlconnection">HttpUrlConnection<a class="headerlink" href="#httpurlconnection" title="Permanent link">⚓︎</a></h4>
<p>Если используется <code>HttpUrlConnection</code>, то рекомендуется пересмотреть подход в сторону OkHttp. Версия <code>HttpUrlConnection</code>, встроенная в Android, зафиксирована, поэтому с обновлениями могут возникнуть сложности.</p>
<p>В документе Android «<a href="https://developer.android.com/training/articles/security-ssl.html#Pinning">Security with HTTPS and SSL</a>» предлагаемая реализация основана на pinning сертификатов с помощью собственного TrustManager и SSLSocketFactory. Однако, как и в случае с другими API, в данной рекомендации будут примеры с использованием SPKI.</p>
<pre class="highlight"><code>private void validatePinning(
        X509TrustManagerExtensions trustManagerExt,
        HttpsURLConnection conn, Set&lt;String&gt; validPins)
        throws SSLException {
    String certChainMsg = "";
    try {
        MessageDigest md = MessageDigest.getInstance("SHA-256");
        List&lt;X509Certificate&gt; trustedChain =
                trustedChain(trustManagerExt, conn);
        for (X509Certificate cert : trustedChain) {
            byte[] publicKey = cert.getPublicKey().getEncoded();
            md.update(publicKey, 0, publicKey.length);
            String pin = Base64.encodeToString(md.digest(),
                    Base64.NO_WRAP);
            certChainMsg += "    sha256/" + pin + " : " +
                    cert.getSubjectDN().toString() + "\n";
            if (validPins.contains(pin)) {
                return;
            }
        }
    } catch (NoSuchAlgorithmException e) {
        throw new SSLException(e);
    }
    throw new SSLPeerUnverifiedException("Certificate pinning " +
            "failure\n  Peer certificate chain:\n" + certChainMsg);
}
private List&lt;X509Certificate&gt; trustedChain(
        X509TrustManagerExtensions trustManagerExt,
        HttpsURLConnection conn) throws SSLException {
    Certificate[] serverCerts = conn.getServerCertificates();
    X509Certificate[] untrustedCerts = Arrays.copyOf(serverCerts,
            serverCerts.length, X509Certificate[].class);
    String host = conn.getURL().getHost();
    try {
        return trustManagerExt.checkServerTrusted(untrustedCerts,
                "RSA", host);
    } catch (CertificateException e) {
        throw new SSLException(e);
    }
}
</code></pre>
<p>И данная имплементация должна быть вызвана следующим образом:</p>
<pre class="highlight"><code>TrustManagerFactory trustManagerFactory =
        TrustManagerFactory.getInstance(
                TrustManagerFactory.getDefaultAlgorithm());
trustManagerFactory.init((KeyStore) null);
// Find first X509TrustManager in the TrustManagerFactory
X509TrustManager x509TrustManager = null;
for (TrustManager trustManager : trustManagerFactory.getTrustManagers()) {
    if (trustManager instanceof X509TrustManager) {
        x509TrustManager = (X509TrustManager) trustManager;
        break;
    }
}
X509TrustManagerExtensions trustManagerExt =
        new X509TrustManagerExtensions(x509TrustManager);
...
URL url = new URL("https://www.appmattus.com/");
HttpsURLConnection urlConnection = 
        (HttpsURLConnection) url.openConnection();
urlConnection.connect();
Set&lt;String&gt; validPins = Collections.singleton
        ("4hw5tz+scE+TW+mlai5YipDfFWn1dqvfLG+nU7tq1V8=");
validatePinning(trustManagerExt, urlConnection, validPins);
</code></pre>
<p>В данном случае вызов urlConnection.connect() выполняет SSL Handshake, однако не передает никаких данных, пока не будет вызван urlConnection.getInputStream().</p>
<h4 id="volley">Volley<a class="headerlink" href="#volley" title="Permanent link">⚓︎</a></h4>
<p>Стандартный способ использования библиотеки Volley — это Pinning сертификатов, как показано в статье «<a href="https://medium.com/@faruktoptas/android-security-tip-public-key-pinning-with-volley-library-fb85bf761857">Android Security Tip: Public Key Pinning with Volley Library</a>». Проект Github <a href="https://github.com/faruktoptas/volley-public-key-pinning">Public Key Pinning with Android Volley library</a> показывает, как можно настраивать SSLSocketFactory для привязки к SPKI.</p>
<p>Можно использовать альтернативный метод, в дополнение к перечисленным выше подходам. Он заключается в использовании класса <code>HostnameVerifier</code>. Этот класс используется для проверки того, что имя хоста в URL-адресе соответствует тому, что указано в сертификате.</p>
<p>Переопределить <code>HostnameVerifier</code> можно следующим образом:</p>
<pre class="highlight"><code>RequestQueue requestQueue = Volley.newRequestQueue(appContext,
        new HurlStack() {
    @Override
    protected HttpURLConnection createConnection(URL url) throws IOException {
        HttpURLConnection connection = super.createConnection(url);
        if (connection instanceof HttpsURLConnection) {
            HostnameVerifier delegate =
                    urlConnection.getHostnameVerifier();
            HostnameVerifier pinningVerifier =
                    new PinningHostnameVerifier(delegate);
            urlConnection.setHostnameVerifier(pinningVerifier);
        }
        return connection;
    }
});
...
public static class PinningHostnameVerifier
        implements HostnameVerifier {
    private final HostnameVerifier delegate;
    private PinningHostnameVerifier(HostnameVerifier delegate) {
        this.delegate = delegate;
    }
    @Override
    public boolean verify(String host, SSLSession sslSession) {
        if (delegate.verify(host, sslSession)) {
            try {
                validatePinning(sslSession.getPeerCertificates(),
                        host, validPins);
                return true;
            } catch (SSLException e) {
                throw new RuntimeException(e);
            }
        }
        return false;
    }
}
</code></pre>
<h2 id="_6">Ссылки<a class="headerlink" href="#_6" title="Permanent link">⚓︎</a></h2>
<ol>
<li>
<p><a href="https://developer.android.com/training/articles/security-config">Network security configuration  |  Android Developers</a> </p>
</li>
<li>
<p><a href="https://www.nowsecure.com/blog/2018/08/15/a-security-analysts-guide-to-network-security-configuration-in-android-p/">A Security Analyst’s Guide to Network Security Configuration in Android P</a></p>
</li>
<li>
<p><a href="https://github.com/square/okhttp/wiki/HTTPS#certificate-pinning">GitHub - square/okhttp: Square’s meticulous HTTP client for the JVM, Android, and GraalVM.</a> </p>
</li>
<li>
<p><a href="https://medium.com/square-corner-blog/vulnerability-in-okhttps-certificate-pinner-2a7326ad073b#.kkns7f3jk">Vulnerability in OkHttp’s Certificate Pinner</a> </p>
</li>
<li>
<p><a href="https://github.com/JakeWharton/picasso2-okhttp3-downloader">GitHub - JakeWharton/picasso2-okhttp3-downloader: A OkHttp 3 downloader implementation for Picasso 2.</a></p>
</li>
<li>
<p><a href="https://developer.android.com/training/articles/security-ssl.html#Pinning">Security with HTTPS and SSL  |  Android Developers</a> </p>
</li>
<li>
<p><a href="https://medium.com/@faruktoptas/android-security-tip-public-key-pinning-with-volley-library-fb85bf761857">Android Security Tip: Public Key Pinning with Volley Library</a> </p>
</li>
<li>
<p><a href="https://github.com/faruktoptas/volley-public-key-pinning">GitHub - faruktoptas/volley-public-key-pinning: Public key pinning with Android volley networking library</a></p>
</li>
</ol>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            К началу
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Нижний колонтитул">
      
        
        <a href="../insecure_settings_in_androidmanifest.xml._the_android_requestlegacyexternalstorage_flag/" class="md-footer__link md-footer__link--prev" aria-label="Назад: Небезопасные настройки в AndroidManifest.xml. Флаг android:requestLegacyExternalStorage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Назад
              </span>
              Небезопасные настройки в AndroidManifest.xml. Флаг android:requestLegacyExternalStorage
            </div>
          </div>
        </a>
      
      
        
        <a href="../ability_to_run_private_activity_indirectly/" class="md-footer__link md-footer__link--next" aria-label="Вперед: Возможность опосредованного запуска приватных Activity" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Вперед
              </span>
              Возможность опосредованного запуска приватных Activity
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    © 2020—2022&nbsp;&nbsp;<a href="https://swordfishsecurity.ru/" target="_blank" rel="noopener">
      Swordfish Security</a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.shares", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.d5a3c699.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.config.lang": "ru", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "\u041f\u043e\u0438\u0441\u043a", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version.title": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.897f3768.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../../../../javascripts/highlight.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../../../../javascripts/tablesort.js"></script>
      
    
  